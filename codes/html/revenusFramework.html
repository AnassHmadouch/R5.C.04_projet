<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>framework</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
        <script src="../js/etudes_data.js" type="text/javascript"></script>
        <script src="../js/tableau_Conversion.js" type="text/javascript"></script>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg bg-body-tertiary"></nav>
        <br>
        <h1 style="margin-left: 10px;">Revenus moyen des dévellopeurs en fonction des frameworks utilisés ainsi que leur localisation.</h1>
        <br>
        <div>
            <label for="select-continent" style="margin-left: 20px;">Sélectionnez un continent:</label>
            <select name="continents" id="select-continent">
                <option value="WE">Europe de l'Ouest</option>
                <option value="NA">Amérique du Nord</option>
            </select>
        </div>
        <br>
        <div id="derou_pays">
            <label for="select-derou_pays" id="label-derou_pays" style="margin-left: 20px;">Sélectionnez un pays:</label>
            <select name="pays" id="select-derou_pays">
                <option value="tous">Tous les pays</option>
            </select>
        </div>  
        <br>
        <div>
            <label for="nbrTranches" style="margin-left: 20px;">Sélectionnez le nombre de tranche désiré:</label>
            <input type="number" id="nbrTranches" min="0" max="5" value="5">
        </div>

        <script> 
            var select = $('#select-derou_pays');
            select.on('change', function() {
                majChart();
            });

            var nbrTranches = document.getElementById('nbrTranches');
            nbrTranches.addEventListener('change', function () {
                majChart();
            });

            var continents = document.getElementById('select-continent');
            continents.addEventListener('change', function () {
                new_res_questionnaire = whichContinent();
                let select2 = $("#select-derou_pays");
                select2.find('option:not(:first)').remove();
                createCountriesDropDown(new_res_questionnaire);
                majChart();
            });
        </script>

        <br>
        <div style="position: relative; height:90vh; width:200vw">
            <canvas id="chart_framework"></canvas>
        </div>
    </body>
</html>